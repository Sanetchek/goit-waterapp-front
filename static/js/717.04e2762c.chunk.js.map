{"version":3,"file":"static/js/717.04e2762c.chunk.js","mappings":"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","sources":["components/UserSettingsForm/UserSettingsFormSchema.js","webpack://react-homework-template/./src/components/UserSettingsForm/UserSettingsForm.module.css?3f7a","redux/user/operations.js","components/UserSettingsForm/UserSettingsForm.jsx"],"sourcesContent":["import * as yup from 'yup';\n\nexport const userSettingsFormSchema = yup.object().shape({\n  name: yup\n    .string()\n    .required('Please enter your name!')\n    .min(2, 'Name must be at least 2 characters long.')\n    .max(20, 'Name must be less than 20 characters long.'),\n  email: yup\n    .string()\n    .required('Please enter your email address.')\n    .matches(/^[^@]+@[^@]+\\.[^@]+$/, 'Please enter a valid email address.')\n    .email('Invalid email.'),\n  gender: yup\n    .string()\n    .oneOf(['woman', 'man', ''], 'Gender must be either \"woman\" or \"man\".'),\n  password: yup\n    .string()\n    .min(8, 'The passsword must contain at least 4 symbols!')\n    .max(64, 'The password must contain no more than 8 characters!'),\n  newPassword: yup\n    .string()\n    .min(8, 'The password must contain at least 4 symbols!')\n    .max(64, 'The password must contain no more than 8 characters!')\n    .required('Please enter a new password!'),\n  newPasswordRepeat: yup\n    .string()\n    .min(8, 'The password must contain at least 4 symbols!')\n    .max(64, 'The password must contain no more than 8 characters!')\n    .required('Please confirm your new password!')\n    .oneOf([yup.ref('newPassword'), null], 'Passwords must match!'),\n});\n","// extracted by mini-css-extract-plugin\nexport default {\"passwordTitle\":\"UserSettingsForm_passwordTitle__dSurm\",\"imageTitle\":\"UserSettingsForm_imageTitle__MD5jd\",\"formWrapper\":\"UserSettingsForm_formWrapper__ujyOt\",\"imageWrapper\":\"UserSettingsForm_imageWrapper__U8Q4Q\",\"image\":\"UserSettingsForm_image__+uTGC\",\"upload\":\"UserSettingsForm_upload__t9HPd\",\"imageInput\":\"UserSettingsForm_imageInput__jEiRz\",\"uploadIcon\":\"UserSettingsForm_uploadIcon__0dJZK\",\"text\":\"UserSettingsForm_text__EFO7E\",\"inputTitle\":\"UserSettingsForm_inputTitle__ESP2R\",\"genderInputWrapper\":\"UserSettingsForm_genderInputWrapper__sP33D\",\"genderButton\":\"UserSettingsForm_genderButton__Z0gIT\",\"userInroWrapper\":\"UserSettingsForm_userInroWrapper__RJtcK\",\"userInputWrap\":\"UserSettingsForm_userInputWrap__dhGBC\",\"userInputTitle\":\"UserSettingsForm_userInputTitle__stZDh\",\"userInput\":\"UserSettingsForm_userInput__0SRz+\",\"error\":\"UserSettingsForm_error__1O6VL\",\"accentText\":\"UserSettingsForm_accentText__7Kn5v\",\"iconImportant\":\"UserSettingsForm_iconImportant__OOWTR\",\"accentTextL\":\"UserSettingsForm_accentTextL__rS9Gm\",\"header\":\"UserSettingsForm_header__nswTc\",\"label\":\"UserSettingsForm_label__DuSbd\",\"formGroupPassword\":\"UserSettingsForm_formGroupPassword__yDKPK\",\"input\":\"UserSettingsForm_input__7fym4\",\"errorMessage\":\"UserSettingsForm_errorMessage__NPkUw\",\"inputWrapper\":\"UserSettingsForm_inputWrapper__mv+is\",\"buttonWrapper\":\"UserSettingsForm_buttonWrapper__gGKFi\",\"passwordToggleIcon\":\"UserSettingsForm_passwordToggleIcon__lk76R\",\"btnWrapper\":\"UserSettingsForm_btnWrapper__eG2bt\",\"placeholder\":\"UserSettingsForm_placeholder__qf4U-\",\"flexWrap\":\"UserSettingsForm_flexWrap__RvIfu\",\"settingsWrapper\":\"UserSettingsForm_settingsWrapper__cqFYn\",\"userWrapper\":\"UserSettingsForm_userWrapper__Bkg+5\",\"userSettings\":\"UserSettingsForm_userSettings__-yspq\",\"formFlexWrapper\":\"UserSettingsForm_formFlexWrapper__xqYgJ\",\"formFlexItem\":\"UserSettingsForm_formFlexItem__mnUxu\",\"passwordWrapper\":\"UserSettingsForm_passwordWrapper__ltSFO\",\"cancelButton\":\"UserSettingsForm_cancelButton__nvpjo\"};","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\n// Fetch user by ID\nexport const getUser = createAsyncThunk(\n  'user/getUser',\n  async (userId, thunkAPI) => {\n    try {\n      const response = await axios.get(`/user/${userId}`);\n      console.log('answear user', response.data);\n\n      return response.data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(\n        error.response?.data?.message || error.message\n      );\n    }\n  }\n);\n\n// Update user profile\nexport const updateUser = createAsyncThunk(\n  'user/updateUser',\n  async ({ userId, userData }, thunkAPI) => {\n    try {\n      const response = await axios.put(`/user/${userId}`, userData);\n      return response.data;\n    } catch (error) {\n      console.error('Update user error:', error);\n      return thunkAPI.rejectWithValue(\n        error.response?.data?.message || error.message\n      );\n    }\n  }\n);\n\n// Update avatar\nexport const updateAvatar = createAsyncThunk(\n  'user/updateAvatar',\n  async ({ userId, avatarFile }, thunkAPI) => {\n    try {\n      const formData = new FormData();\n      formData.append('avatar', avatarFile);\n\n      const response = await axios.patch(`/user/${userId}`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      return response.data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(\n        error.response?.data?.message || error.message\n      );\n    }\n  }\n);\n","import { useEffect, useRef, useState, useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { userSettingsFormSchema } from './UserSettingsFormSchema';\nimport { toast } from 'react-hot-toast';\nimport { selectUser } from '../../redux/auth/selectors';\nimport css from './UserSettingsForm.module.css';\nimport svg from '../../assets/images/snippets.svg';\nimport { updateUser, updateAvatar, getUser } from '../../redux/user/operations';\n\nconst UserSettingsForm = ({ onClose }) => {\n  const dispatch = useDispatch();\n  const currentUser = useSelector(selectUser) || {};\n  const { _id, name, email, gender, avatar } = currentUser;\n\n  const fileInputRef = useRef(null);\n  const [preview, setPreview] = useState(avatar || null); // Start with null to trigger the placeholder\n  const [showPassword, setShowPassword] = useState(false);\n  const [showNewPassword, setShowNewPassword] = useState(false);\n  const [showRepeatPassword, setShowRepeatPassword] = useState(false);\n\n  const updateHeader = async () => {\n    await dispatch(getUser()); // Оновлюємо заголовок\n  };\n\n  useEffect(() => {\n    if (avatar) {\n      setPreview(avatar);\n    } else {\n      setPreview(null); // Set to null if no avatar\n    }\n  }, [avatar]);\n\n  const onFileChange = useCallback(\n    async event => {\n      const selectedAvatar = event.target.files[0];\n      console.log(selectedAvatar);\n\n      if (selectedAvatar) {\n        const objectURL = URL.createObjectURL(selectedAvatar);\n        setPreview(objectURL);\n        // Dispatch the updateAvatar action with userId and avatarFile\n        try {\n          await dispatch(\n            updateAvatar({ userId: _id, avatarFile: selectedAvatar })\n          );\n          toast.success('Avatar updated successfully!');\n        } catch (error) {\n          toast.error('Error updating avatar. Please try again.');\n          console.error(error);\n        }\n      }\n    },\n    [dispatch, _id] // Added _id to dependencies\n  );\n\n  const handleSubmit = async values => {\n    const filteredValues = Object.fromEntries(\n      Object.entries(values).filter(\n        ([key, value]) => value !== '' && key !== 'avatar' // Exclude specified fields - поки прибрав !['avatar', 'repeatPassword'].includes(key)\n      )\n    );\n\n    // Dispatch the updateUser action with userId and filtered values\n    try {\n      await dispatch(updateUser({ userId: _id, userData: filteredValues }));\n      toast.success('User updated successfully!');\n      updateHeader();\n      console.log('Форма відправлена', values);\n      onClose();\n    } catch (error) {\n      toast.error('Error updating user. Please try again.');\n      console.error(error);\n    }\n  };\n\n  const togglePasswordVisibility = setter => () => {\n    setter(prev => !prev);\n  };\n\n  // Get the first letter of the username\n  const firstLetter = name ? name.charAt(0).toUpperCase() : '';\n\n  const initialValues = {\n    name,\n    email,\n    gender: gender || 'woman',\n    oldPassword: '',\n    password: '',\n    repeatPassword: '',\n  };\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      validationSchema={userSettingsFormSchema}\n      onSubmit={handleSubmit}\n    >\n      {({ setFieldValue, isSubmitting }) => (\n        <Form>\n          <div className={css.settingsWrapper}>\n            <div className={css.userWrapper}>\n              <p className={css.imageTitle}>Your Photo</p>\n              <div className={css.imageWrapper}>\n                <div className={css.imageContainer}>\n                  {preview ? (\n                    <img\n                      className={css.image}\n                      src={preview}\n                      loading=\"lazy\"\n                      alt=\"User avatar\"\n                      width=\"75\"\n                      height=\"75\"\n                    />\n                  ) : (\n                    <div className={css.placeholder}>{firstLetter}</div> // Placeholder block\n                  )}\n                </div>\n                <label className={css.upload}>\n                  <input\n                    className={css.imageInput}\n                    type=\"file\"\n                    accept=\"image/*\"\n                    onChange={event => {\n                      onFileChange(event);\n                      setFieldValue('avatar', event.currentTarget.files[0]); // Set avatar in Formik values\n                    }}\n                    ref={fileInputRef}\n                  />\n                  <svg className={css.uploadIcon} width=\"18\" height=\"18\">\n                    <use xlinkHref={`${svg}#icon-upload`}></use>\n                  </svg>\n                  <p className={css.text}>Upload a photo</p>\n                </label>\n              </div>\n\n              <div className={css.formWrapper}>\n                <div>\n                  <h2 className={css.inputTitle}>Your gender identity</h2>\n                  <div className={css.genderInputWrapper}>\n                    <label className={`${css.genderButton} ${css.text}`}>\n                      <Field\n                        type=\"radio\"\n                        name=\"gender\"\n                        value=\"woman\"\n                        className={css.genderInput}\n                      />\n                      Woman\n                    </label>\n\n                    <label className={`${css.genderButton} ${css.text}`}>\n                      <Field\n                        type=\"radio\"\n                        name=\"gender\"\n                        value=\"man\"\n                        className={css.genderInput}\n                      />\n                      Man\n                    </label>\n                  </div>\n                  <ErrorMessage\n                    name=\"gender\"\n                    component=\"p\"\n                    className={css.error}\n                  />\n                </div>\n\n                <div className={css.formFlexWrapper}>\n                  <div className={css.formFlexItem}>\n                    <div className={css.userInfoWrapper}>\n                      <div className={css.userInputWrap}>\n                        <label className={css.userInputTitle} htmlFor=\"name\">\n                          Your name\n                        </label>\n                        <Field\n                          type=\"text\"\n                          name=\"name\"\n                          id=\"name\"\n                          className={`${css.userInput} ${css.userSettings} ${css.text}`}\n                        />\n                        <ErrorMessage\n                          name=\"name\"\n                          component=\"p\"\n                          className={css.error}\n                        />\n                      </div>\n\n                      <div className={css.userInputWrap}>\n                        <label className={css.userInputTitle} htmlFor=\"email\">\n                          Email\n                        </label>\n                        <Field\n                          type=\"text\"\n                          name=\"email\"\n                          id=\"email\"\n                          className={`${css.userInput} ${css.userSettings} ${css.text}`}\n                        />\n                        <ErrorMessage\n                          name=\"email\"\n                          component=\"p\"\n                          className={css.error}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className={css.passwordWrapper}>\n              <h2 className={css.passwordTitle}>Password</h2>\n\n              <div className={css.formGroupPassword}>\n                <label className={css.label}>Outdated password:</label>\n                <div className={css.inputWrapper}>\n                  <Field\n                    type={showPassword ? 'text' : 'password'}\n                    name=\"oldPassword\"\n                    className={`${css.input}`}\n                    placeholder=\"Password\"\n                  />\n                  <svg\n                    className={css.passwordToggleIcon}\n                    onClick={togglePasswordVisibility(setShowPassword)}\n                    width=\"20px\"\n                    height=\"20px\"\n                  >\n                    <use\n                      xlinkHref={`${svg}#${\n                        showPassword ? 'icon-eye' : 'icon-eye-slash'\n                      }`}\n                    />\n                  </svg>\n                  <ErrorMessage\n                    name=\"oldPassword\"\n                    component=\"p\"\n                    className={css.errorMessage}\n                  />\n                </div>\n              </div>\n\n              <div className={css.formGroupPassword}>\n                <label className={css.label}>New Password:</label>\n                <div className={css.inputWrapper}>\n                  <Field\n                    type={showNewPassword ? 'text' : 'password'}\n                    name=\"password\"\n                    className={`${css.input}`}\n                    placeholder=\"Password\"\n                  />\n                  <svg\n                    className={css.passwordToggleIcon}\n                    onClick={togglePasswordVisibility(setShowNewPassword)}\n                    width=\"20px\"\n                    height=\"20px\"\n                  >\n                    <use\n                      xlinkHref={`${svg}#${\n                        showNewPassword ? 'icon-eye' : 'icon-eye-slash'\n                      }`}\n                    />\n                  </svg>\n                  <ErrorMessage\n                    name=\"password\"\n                    component=\"p\"\n                    className={css.errorMessage}\n                  />\n                </div>\n              </div>\n\n              <div className={css.formGroupPassword}>\n                <label className={css.label}>Repeat new password:</label>\n                <div className={css.inputWrapper}>\n                  <Field\n                    type={showRepeatPassword ? 'text' : 'password'}\n                    name=\"repeatPassword\"\n                    className={`${css.input}`}\n                    placeholder=\"Password\"\n                  />\n                  <svg\n                    className={css.passwordToggleIcon}\n                    onClick={togglePasswordVisibility(setShowRepeatPassword)}\n                    width=\"20px\"\n                    height=\"20px\"\n                  >\n                    <use\n                      xlinkHref={`${svg}#${\n                        showRepeatPassword ? 'icon-eye' : 'icon-eye-slash'\n                      }`}\n                    />\n                  </svg>\n                  <ErrorMessage\n                    name=\"repeatPassword\"\n                    component=\"p\"\n                    className={css.errorMessage}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className={css.buttonWrapper}>\n            <button\n              type=\"submit\"\n              className={`btn btn-blue ${css.button}`}\n              disabled={isSubmitting}\n            >\n              Save\n            </button>\n          </div>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nexport default UserSettingsForm;\n"],"names":["userSettingsFormSchema","yup","shape","name","required","min","max","email","matches","gender","oneOf","password","newPassword","newPasswordRepeat","getUser","createAsyncThunk","async","userId","thunkAPI","response","axios","get","console","log","data","error","_error$response","_error$response$data","rejectWithValue","message","updateUser","_ref","userData","put","_error$response2","_error$response2$data","updateAvatar","_ref2","avatarFile","formData","FormData","append","patch","headers","_error$response3","_error$response3$data","onClose","dispatch","useDispatch","currentUser","useSelector","selectUser","_id","avatar","fileInputRef","useRef","preview","setPreview","useState","showPassword","setShowPassword","showNewPassword","setShowNewPassword","showRepeatPassword","setShowRepeatPassword","useEffect","onFileChange","useCallback","selectedAvatar","event","target","files","objectURL","URL","createObjectURL","toast","success","togglePasswordVisibility","setter","prev","firstLetter","charAt","toUpperCase","initialValues","oldPassword","repeatPassword","_jsx","Formik","validationSchema","onSubmit","filteredValues","Object","fromEntries","entries","values","filter","key","value","updateHeader","children","_ref3","setFieldValue","isSubmitting","_jsxs","Form","className","css","settingsWrapper","userWrapper","imageTitle","imageWrapper","imageContainer","image","src","loading","alt","width","height","placeholder","upload","imageInput","type","accept","onChange","currentTarget","ref","uploadIcon","xlinkHref","svg","text","formWrapper","inputTitle","genderInputWrapper","genderButton","Field","genderInput","ErrorMessage","component","formFlexWrapper","formFlexItem","userInfoWrapper","userInputWrap","userInputTitle","htmlFor","id","userInput","userSettings","passwordWrapper","passwordTitle","formGroupPassword","label","inputWrapper","input","passwordToggleIcon","onClick","errorMessage","buttonWrapper","button","disabled"],"sourceRoot":""}